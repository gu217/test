<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
 <head>
  <title> New Document </title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="Generator" content="EditPlus">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <!-- script type="text/javascript" src="common/javascript/jquery.js"></script -->
  <!-- script type="text/javascript" src="common/javascript/jquery.form.js"></script -->
  <script type="text/javascript" src="/js/jquery.js"></script>
  <script type="text/javascript" src="/js/jquery.form.js"></script>
  <script type="text/javascript">
function copyToClipboard(txt) {    
	alert(txt);
    if(window.clipboardData) {    
        window.clipboardData.clearData();    
        window.clipboardData.setData("Text", txt);    
    } else if(navigator.userAgent.indexOf("Opera") != -1) {    
        window.location = txt;    
    } else if (window.netscape) {    
        try {    
            netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");    
        } catch (e) {    
            alert("被浏览器拒绝！\n请在浏览器地址栏输入'about:config'并回车\n然后将'signed.applets.codebase_principal_support'设置为'true'");    
        }    
    var clip = Components.classes['@mozilla.org/widget/clipboard;1'].createInstance(Components.interfaces.nsIClipboard);    
    if (!clip)    
        return;    
    var trans = Components.classes['@mozilla.org/widget/transferable;1'].createInstance(Components.interfaces.nsITransferable);    
    if (!trans)    
        return;    
    trans.addDataFlavor('text/unicode');    
    var str = new Object();    
    var len = new Object();    
    var str = Components.classes["@mozilla.org/supports-string;1"].createInstance(Components.interfaces.nsISupportsString);    
    var copytext = txt;    
    str.data = copytext;    
    trans.setTransferData("text/unicode",str,copytext.length*2);    
    var clipid = Components.interfaces.nsIClipboard;    
    if (!clip)    
        return false;    
    clip.setData(trans,null,clipid.kGlobalClipboard);       
    }    
}   
</script>
  <style type="text/css">
  
  </style>
 </head>
 <body>
<form name="frm" id="frm" method="post" enctype="multipart/form-data">
<input type="file" size="40" name="filename" id="filename" />
<input type="hidden" name="filetype" id="filetype" value="file" />
<input type="button" onclick="imgsubmit()" value="上传文件"	/>
</form>
<script type="text/javascript">
var theparam = {
	url: 'uploadcorplogo.php',
	dataType: 'json',
	type:'POST',
	success: function(data) {
		$("#picUrl").val(data.imageurl);
		$("#thumbUrl").html(data.thumburl);
		$('#corpimage').attr('src', data.thumburl);
		//alert("上传成功");
   }
};
function imgsubmit(){
	$('#frm').ajaxSubmit(theparam);
}
 
</script>
<div id="corpimage"></div>
<div id="thumbUrl"></div>
建议尺寸宽210像素*高70像素
<input type="hidden" class="hidden" name="picUrl" id="picUrl" value="" />
<input type="button" onclick="copyToClipboard($('#thumbUrl').html());" value="复制地址" />
 </body>
</html>
